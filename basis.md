SQL

数据库可以用于存储数据、检索数据和生成新数据

数据表，一种数据表对应一种类型的数据；例如生成顾客表和订单表。

数据表是由行和列组成的二维表。行称为记录，表中的数据是按行存储的，使用时不允许字段为空值。列也称为字段。

主键，是用于处理信息冗余的。将冗余的信息提取到一个新的表中，创建主键用于指导冗余的数据。关联到其他表主键的字段称为外键。

第二章、关系操作

关系操作包括

* 集合运算(针对集合)
  * 交，指求交集，∩
  * 并，指求并集，∪
  * 差，求差集
  * 笛卡尔积
* 关系运算(针对表)
  * 选择，<b>从行的角度</b>对原表进行操作
  * 投影，<b>从列的角度</b>对原表进行操作
  * 除，从行和列的角度进行运算
  * 连接
    * 内连接(inner join)，类似于交集
    * 外连接(包括左外连接、右外连接、全外连接)，类似于并集，左外连接是三部分中最左边的部分；全外连接是不包括并集的部分
    * 交叉连接

第三章、基础查询

SQL语言的分类

SQL语言包括三部分

* 数据定义语言 DDL，用于创建表、视图、索引
* 数据操作语言 DML，用于增、删、查、改
* 数据控制语言 DCL，用于分配权限

各个语言的关键词

1、数据定义语言 DDL

|          |      操作       |      方       |     式      |
| :------: | :-------------: | :-----------: | :---------: |
| 操作对象 |      创建       |     删除      |    修改     |
|  数据库  | CREATE DATABASE | DROP DATABASE |             |
|    表    |  CREATE TABLE   |  DROP TABLE   | ALTER TABLE |
|   索引   |  CREATE INDEX   |  DROP INDEX   |             |
|   视图   |   CREATE VIEW   |   DROP VIEW   |             |

2、数据操作语言 DML

|    --    | 操作方式 | 操作方式 | 操作方式 | 操作方式 |
| :------: | :------: | :------: | :------: | :------: |
| 操作对象 |   增加   |   删除   |   修改   |   查询   |
|   记录   |  insert  |  delete  |  update  |  select  |

查询是所有的关键

查看单列 select col

查看多列 select col1, col2

查看列，并去除重复值 select distinct col

计算列 

order by作用于单个或多个字段，默认是升序排序；加desc可以实现降序排列；作用于空值null，将空值null放在最后

3、数据控制语言

|    --    | 操作方式 | 操作方式 |
| :------: | :------: | :------: |
| 操作对象 | 增加权限 | 删除权限 |
|  数据库  |  grant   |  revoke  |


现实世界中客观对象的抽象过程

建模(由数据库设计人员完成)转变为机器世界中的数据。

| 现实世界 | 信息世界 | 数据世界 |
| :------: | :------: | :------: |
|  事物类  |  实体集  |   文件   |
|   事物   |   实体   |   记录   |
|   性质   |   属性   |  数据项  |

有现实世界转变为信息世界为第一类模型，称为概念模型；由信息世界转变为数据世界是第二类模型，称为数据模型。



数据模型的组成要素

* 数据结构：一个模型中有什么样的对象，对象的内容是什么
* 数据操作
  * 包括查询(最常用)和更新
* 完整性约束条件（一组规则）
  * 实体完整性（<b>不能存在完全相同的记录，每条记录有不重复的主键，主键不能为空值</b>）
  * 域完整性（输入数据的范围要有效 ）
  * 参照完整性（当一个表引用了另一个表中的某些数据时，相关字段的值要保持一致，通俗地说，外表中的外键值必须是主表中存在的值）



概念模型的介绍

实体：具体的人、事或抽象的概念，实体是用矩形框表示，并且要写上具体的名字。

属性：实体具有的具体的特性。

联系包括实体内部的联系（组成实体的各属性之间），也包括实体之间的联系。

实体-联系方法(E-R方法)：将实体、属性、联系的方法整合起来描述现实世界。<b>实体-矩形框；属性-椭圆；联系-菱形。</b>

关系模型

用二维表格表示一个实体集，就是关系模型。一个表格对应一个关系。

关系术语

关系名：表名

关系模式：表格的表头

元组：表中的一行

分量：元组中的每一个属性值

属性：表中的一列

属性名：给表中的属性起个名称就是属性名

将E-R图转化为关系模型

转化原则

确保每个实体转化为一个关系；将每个联系也转化为一个关系；

将一个实体的属性值添加到另一个实体or<b>将少端实体的主键添加到多端实体的主键中</b>。


